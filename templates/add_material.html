{% extends "base.html" %}

{% block title %}Add Material - Toolshed App{% endblock %}

{% block content %}
<div class="flex justify-between align-center mb-30">
    <h1 class="section-header">Add Material</h1>
    <a href="{{ url_for('materials') }}" class="btn">Cancel</a>
</div>

<div style="max-width: 900px;">
    <form method="POST" action="{{ url_for('add_material') }}" enctype="multipart/form-data">
        <div class="glass" style="padding: 32px; border-radius: 20px; margin-bottom: 24px;">
            <h3 style="font-size: 18px; margin-bottom: 20px; font-weight: 700; color: var(--text-primary); font-family: var(--font-display);">Basic Information</h3>

            <div class="form-group">
                <label class="form-label" for="name">Material Name *</label>
                <input type="text" id="name" name="name" class="form-input"
                       placeholder="e.g., Pine 2x4, 6061 Aluminum Sheet, PLA Filament" required>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label" for="category">Category *</label>
                    <select id="category" name="category" class="form-select" required>
                        <option value="">Select Category</option>
                        <option value="Wood">Wood</option>
                        <option value="Metal">Metal</option>
                        <option value="Plastic">Plastic</option>
                        <option value="Fabric">Fabric</option>
                        <option value="Glass">Glass</option>
                        <option value="Stone">Stone</option>
                        <option value="Composite">Composite</option>
                        <option value="Filament">3D Printer Filament</option>
                        <option value="Resin">Resin</option>
                        <option value="Paper">Paper/Cardboard</option>
                        <option value="Foam">Foam</option>
                        <option value="Rubber">Rubber</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="material_type">Specific Type</label>
                    <input type="text" id="material_type" name="material_type" class="form-input"
                           placeholder="e.g., Pine, Aluminum 6061, PLA">
                </div>
            </div>
        </div>

        <div class="glass" style="padding: 32px; border-radius: 20px; margin-bottom: 24px;">
            <h3 style="font-size: 18px; margin-bottom: 20px; font-weight: 700; color: var(--text-primary); font-family: var(--font-display);">Dimensions & Quantity</h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label" for="dimensions_length">Length</label>
                    <input type="number" id="dimensions_length" name="dimensions_length" class="form-input"
                           step="0.01" min="0" placeholder="e.g., 2400">
                </div>

                <div class="form-group">
                    <label class="form-label" for="dimensions_width">Width</label>
                    <input type="number" id="dimensions_width" name="dimensions_width" class="form-input"
                           step="0.01" min="0" placeholder="e.g., 90">
                </div>

                <div class="form-group">
                    <label class="form-label" for="dimensions_thickness">Thickness</label>
                    <input type="number" id="dimensions_thickness" name="dimensions_thickness" class="form-input"
                           step="0.01" min="0" placeholder="e.g., 45">
                </div>

                <div class="form-group">
                    <label class="form-label" for="dimension_unit">Unit</label>
                    <select id="dimension_unit" name="dimension_unit" class="form-select">
                        <option value="mm">Millimeters (mm)</option>
                        <option value="cm">Centimeters (cm)</option>
                        <option value="m">Meters (m)</option>
                        <option value="in">Inches (in)</option>
                        <option value="ft">Feet (ft)</option>
                    </select>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label" for="quantity">Quantity *</label>
                    <input type="number" id="quantity" name="quantity" class="form-input"
                           step="0.01" min="0" value="0" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="unit">Stock Unit</label>
                    <select id="unit" name="unit" class="form-select">
                        <option value="pcs">Pieces</option>
                        <option value="sheets">Sheets</option>
                        <option value="boards">Boards</option>
                        <option value="rolls">Rolls</option>
                        <option value="kg">Kilograms</option>
                        <option value="g">Grams</option>
                        <option value="m">Meters</option>
                        <option value="ft">Feet</option>
                        <option value="m²">Square Meters</option>
                        <option value="ft²">Square Feet</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="min_quantity">Min Stock Alert</label>
                    <input type="number" id="min_quantity" name="min_quantity" class="form-input"
                           step="0.01" min="0" placeholder="Optional">
                </div>
            </div>
        </div>

        <div class="glass" style="padding: 32px; border-radius: 20px; margin-bottom: 24px;">
            <h3 style="font-size: 18px; margin-bottom: 20px; font-weight: 700; color: var(--text-primary); font-family: var(--font-display);">Specifications</h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label" for="grade">Grade/Quality</label>
                    <input type="text" id="grade" name="grade" class="form-input"
                           placeholder="e.g., T6, Construction Grade">
                </div>

                <div class="form-group">
                    <label class="form-label" for="finish">Finish/Surface</label>
                    <input type="text" id="finish" name="finish" class="form-input"
                           placeholder="e.g., Polished, Rough, Anodized">
                </div>

                <div class="form-group">
                    <label class="form-label" for="color">Color</label>
                    <input type="text" id="color" name="color" class="form-input"
                           placeholder="e.g., Natural, Black, Silver">
                </div>
            </div>
        </div>

        <div class="glass" style="padding: 32px; border-radius: 20px; margin-bottom: 24px;">
            <h3 style="font-size: 18px; margin-bottom: 20px; font-weight: 700; color: var(--text-primary); font-family: var(--font-display);">Cost & Purchase Info</h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label" for="purchase_price">Purchase Price ($)</label>
                    <input type="number" id="purchase_price" name="purchase_price" class="form-input"
                           step="0.01" min="0" placeholder="Total cost">
                </div>

                <div class="form-group">
                    <label class="form-label" for="cost_per_unit">Cost Per Unit ($)</label>
                    <input type="number" id="cost_per_unit" name="cost_per_unit" class="form-input"
                           step="0.01" min="0" placeholder="Price per piece/meter/kg">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="form-group">
                    <label class="form-label" for="supplier">Supplier</label>
                    <input type="text" id="supplier" name="supplier" class="form-input"
                           placeholder="e.g., Bunnings, Mitre10, AliExpress">
                </div>

                <div class="form-group">
                    <label class="form-label" for="purchase_date">Purchase Date</label>
                    <input type="date" id="purchase_date" name="purchase_date" class="form-input">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label" for="purchase_url">Purchase URL</label>
                <input type="url" id="purchase_url" name="purchase_url" class="form-input"
                       placeholder="https://...">
            </div>
        </div>

        <div class="glass" style="padding: 32px; border-radius: 20px; margin-bottom: 24px;">
            <h3 style="font-size: 18px; margin-bottom: 20px; font-weight: 700; color: var(--text-primary); font-family: var(--font-display);">Additional Details</h3>

            <div class="form-group">
                <label class="form-label" for="location">Storage Location</label>
                <input type="text" id="location" name="location" class="form-input"
                       placeholder="e.g., Shelf C, Rack 2, Storage Bin">
            </div>

            <div class="form-group">
                <label class="form-label" for="notes">Notes</label>
                <textarea id="notes" name="notes" class="form-textarea" rows="4"
                          placeholder="Additional information, project uses, special handling..."></textarea>
            </div>

            <div class="form-group">
                <label class="form-label" for="image">Image</label>
                <input type="file" id="image" name="image" class="form-input" accept="image/*">
                <div style="margin-top: 8px; font-size: 12px; color: var(--text-secondary);">
                    Accepted formats: PNG, JPG, GIF, WebP (Max 16MB)
                </div>
            </div>
        </div>

        <div style="display: flex; gap: 15px;">
            <button type="submit" class="btn btn-primary">Add Material</button>
            <a href="{{ url_for('materials') }}" class="btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
